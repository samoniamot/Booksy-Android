{"ast":null,"code":"var _jsxFileName = \"/Users/tomas/Coding/Tarea aplicaciones moviles/src/pages/perfil.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Container, Card, Button, Alert } from 'react-bootstrap';\nimport axios from 'axios';\nimport { useAutenticacion } from '../context/contextoAplicacion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'https://x8ki-letl-twmt.n7.xano.io/api:Rfm_61dW';\nexport default function Perfil() {\n  _s();\n  const {\n    usuario,\n    token\n  } = useAutenticacion();\n  const [datosUsuario, setDatosUsuario] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    if (token) {\n      axios.get(`${API_BASE}/auth/me`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => setDatosUsuario(res.data)).catch(err => setError('Error cargando perfil')).finally(() => setLoading(false));\n    }\n  }, [token]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 36\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 34\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Perfil de Usuario\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), datosUsuario && /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: datosUsuario.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          children: [\"Email: \", datosUsuario.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n_s(Perfil, \"+qqkJcLaqrUnA0K4a/OIQxpye0k=\", false, function () {\n  return [useAutenticacion];\n});\n_c = Perfil;\nvar _c;\n$RefreshReg$(_c, \"Perfil\");","map":{"version":3,"names":["useState","useEffect","Container","Card","Button","Alert","axios","useAutenticacion","jsxDEV","_jsxDEV","API_BASE","Perfil","_s","usuario","token","datosUsuario","setDatosUsuario","loading","setLoading","error","setError","get","headers","Authorization","then","res","data","catch","err","finally","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","className","Body","Title","name","Text","email","_c","$RefreshReg$"],"sources":["/Users/tomas/Coding/Tarea aplicaciones moviles/src/pages/perfil.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Container, Card, Button, Alert } from 'react-bootstrap';\nimport axios from 'axios';\nimport { useAutenticacion } from '../context/contextoAplicacion';\n\nconst API_BASE = 'https://x8ki-letl-twmt.n7.xano.io/api:Rfm_61dW';\n\nexport default function Perfil() {\n    const { usuario, token } = useAutenticacion();\n    const [datosUsuario, setDatosUsuario] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        if (token) {\n            axios.get(`${API_BASE}/auth/me`, {\n                headers: { Authorization: `Bearer ${token}` }\n            })\n            .then(res => setDatosUsuario(res.data))\n            .catch(err => setError('Error cargando perfil'))\n            .finally(() => setLoading(false));\n        }\n    }, [token]);\n\n    if (loading) return <Container><p>Cargando...</p></Container>;\n    if (error) return <Container><Alert variant=\"danger\">{error}</Alert></Container>;\n\n    return (\n        <Container className=\"mt-5\">\n            <h2>Perfil de Usuario</h2>\n            {datosUsuario && (\n                <Card>\n                    <Card.Body>\n                        <Card.Title>{datosUsuario.name}</Card.Title>\n                        <Card.Text>Email: {datosUsuario.email}</Card.Text>\n                        {/* Aqui agregar imagen de perfil mas tarde */}\n                    </Card.Body>\n                </Card>\n            )}\n        </Container>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}